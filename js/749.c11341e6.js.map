{"version":3,"file":"js/749.c11341e6.js","mappings":"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","sources":["webpack://portal/./src/components/AlertC.vue","webpack://portal/./src/components/AlertC.vue?0537","webpack://portal/./src/components/TableFilter.vue","webpack://portal/./src/components/TableFilter.vue?d871","webpack://portal/./src/components/TablePagination.vue","webpack://portal/./src/components/TablePagination.vue?9a0d","webpack://portal/./src/components/UserList.vue","webpack://portal/./src/components/UserList.vue?1185"],"sourcesContent":["<template>\r\n    <div class=\"alert\">\r\n        <p>\r\n            {{msg}}\r\n        </p>\r\n        <button class=\"positive\" @click=\"fn(...fnParam)\">proceed</button>\r\n        <button class=\"negative\" @click=\"$emit('close-alert')\">cancel</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'AlertC',\r\n        props: {\r\n            msg: String,\r\n            fn: Function,\r\n            fnParam: JSON,\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.alert {\r\n    width: 50%;\r\n    height:50%;\r\n    position: absolute;\r\n    margin: auto;\r\n    color: whitesmoke;\r\n    background-color:#141c3d;\r\n}\r\n</style>","import { render } from \"./AlertC.vue?vue&type=template&id=6a145a71&scoped=true\"\nimport script from \"./AlertC.vue?vue&type=script&lang=js\"\nexport * from \"./AlertC.vue?vue&type=script&lang=js\"\n\nimport \"./AlertC.vue?vue&type=style&index=0&id=6a145a71&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\portal\\\\frontend\\\\portal\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6a145a71\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"actions\">\r\n        <label for=\"search\" class=\"mr8\">search</label>\r\n        <input v-model=\"dataToFind\" @input=\"filter\" type=\"text\" id=\"search\" class=\"mr24\">\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'TableFilter',\r\n        data() {\r\n            return {\r\n                dataToFind: ''\r\n            }\r\n        },\r\n        props: {\r\n            tableData: String\r\n        },\r\n        methods: {\r\n            filter() {\r\n                let filteredData = []\r\n                if (this.dataToFind == '') this.$emit('filtered', this.tableData)\r\n                else {\r\n                    this.tableData.forEach((o) => {\r\n                        let flag = (Object.values(o).join(' ').includes(this.dataToFind))\r\n                        if (flag == true) {\r\n                            filteredData.push(o)\r\n                        }\r\n                    })\r\n                    this.$emit('filtered', filteredData)\r\n                }\r\n            }\r\n        }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    input {\r\n        width: 200px !important;\r\n    }\r\n</style>","import { render } from \"./TableFilter.vue?vue&type=template&id=6a14df15&scoped=true\"\nimport script from \"./TableFilter.vue?vue&type=script&lang=js\"\nexport * from \"./TableFilter.vue?vue&type=script&lang=js\"\n\nimport \"./TableFilter.vue?vue&type=style&index=0&id=6a14df15&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\portal\\\\frontend\\\\portal\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6a14df15\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"flex\">\r\n        <div class=\"recordsPerPage\">\r\n            <label for=\"recordsPerPage\">entries</label>\r\n            <select @change=\"getPageData()\" id=\"recordsPerPage\" v-model=\"recordsPerPage\" type=\"number\" class=\"ml8\"> \r\n                <option value=\"10\">10</option>\r\n                <option value=\"20\">20</option>\r\n                <option value=\"50\">50</option>\r\n                <option value=\"100\">100</option>\r\n            </select>\r\n        </div>\r\n        <ul>\r\n            <li class=\"neutral\">\r\n                <a href=\"#\" @click=\"pageChange(1)\">&lt;&lt;</a>\r\n            </li>\r\n            <li class=\"neutral\" v-for=\"n in showPage\" :key=\"n\">\r\n                <a href=\"#\" :class=\"(n == currentPage) ? 'green' : ''\" @click=\"pageChange(n)\">{{n}}</a>\r\n            </li>\r\n            <li class=\"neutral\">\r\n                <a href=\"#\" @click=\"pageChange(pageCount)\">&gt;&gt;</a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n\r\n    export default {\r\n        name: 'TablePagination',\r\n        data() {\r\n            return {\r\n                pageData: '',\r\n                totalRecords: '',\r\n                currentPage: 1,\r\n                recordsPerPage: 10,\r\n                pageCount: '',\r\n            }\r\n        },\r\n        computed: {\r\n            showPage() {\r\n                let numShown = 5;\r\n                numShown = Math.min(numShown, this.pageCount)\r\n                let first = this.currentPage - Math.floor(numShown / 2)\r\n                first = Math.max(first, 1)\r\n                first = Math.min(first, this.pageCount - numShown + 1)\r\n                return [...Array(numShown)].map((k,i) => i + first)\r\n            }\r\n        },\r\n        props: {\r\n            tableName: String,\r\n        },\r\n        methods: {\r\n            pageChange(page) {\r\n                this.currentPage = page\r\n                this.getPageData()\r\n            },\r\n            getPageData() {\r\n                this.pageCount = Math.ceil(this.totalRecords / this.recordsPerPage)\r\n                axios.get(`/u/api/${this.tableName}`, {\r\n                    params: {\r\n                        from: (this.currentPage-1)*this.recordsPerPage,\r\n                        records_per_page: this.recordsPerPage,\r\n                    },\r\n                    withCredentials: true\r\n                })\r\n                .then((activities) => {\r\n                    this.$emit(\"tableData\", activities.data)\r\n                    console.log(\"table data\", activities.data)\r\n                });\r\n            },\r\n        },\r\n        created() {\r\n            axios.get(`/u/api/${this.tableName}/count`, {\r\n                withCredentials: true\r\n            })\r\n            .then((count) => {\r\n                this.totalRecords = count.data[0].count\r\n                this.pageCount = Math.ceil(this.totalRecords / this.recordsPerPage)\r\n                console.log(\"total records: \", this.totalRecords)\r\n                console.log(\"page count:\", this.pageCount)\r\n            })\r\n            this.getPageData()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .flex {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n    }\r\n    .recordsPerPage {\r\n        display: flex;\r\n        align-items: center;\r\n        margin: 13px 0;\r\n    }\r\n    select {\r\n        padding: 4px;\r\n    }\r\n    ul {\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: wrap;\r\n    }\r\n    li {\r\n        list-style: none;\r\n        border: solid 1px #e7eaec;\r\n    }\r\n    li a {\r\n        padding: 4px 10px;\r\n    }\r\n    a:active, .current {\r\n        background-color: #e7eaec;\r\n        color: black;\r\n    }\r\n</style>>","import { render } from \"./TablePagination.vue?vue&type=template&id=31ccc1da&scoped=true\"\nimport script from \"./TablePagination.vue?vue&type=script&lang=js\"\nexport * from \"./TablePagination.vue?vue&type=script&lang=js\"\n\nimport \"./TablePagination.vue?vue&type=style&index=0&id=31ccc1da&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\portal\\\\frontend\\\\portal\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-31ccc1da\"]])\n\nexport default __exports__","<template>\r\n    <div>\r\n        <AlertC v-show=\"displayAlert\" \r\n            :msg=\"alertData.msg\"\r\n            :fn=\"deleteUser\"\r\n            :fnParam=\"alertData.params\"\r\n            v-on:close-alert=\"displayAlert = false\"\r\n        />\r\n        <div class=\"card\">\r\n            <div class=\"card-head m0 pb16 pt16 pr16 pl16\">\r\n                <h5 class=\"table-head m0\">users</h5>\r\n                <router-link class=\"table-action\" to=\"/u/users/create-user\">\r\n                    create user\r\n                </router-link>\r\n            </div>\r\n\r\n            <TableFilter :tableData=\"usersList\" @filtered=\"filteredUsersList = $event\" class=\"mr16 ml16 mt16 actions\"/>\r\n            <div class=\"mr16 ml16 mt16\">\r\n                <table>\r\n                    <tr>\r\n                        <th>name</th>\r\n                        <th>rights</th>\r\n                        <th>actions</th>\r\n                    </tr>\r\n\r\n                    <tr class=\"tr\" v-for=\"user in usersListToDisplay()\" :key=\"user?.id\">\r\n                        <td>\r\n                            {{user.first_name + ' ' + user.last_name}}\r\n                        </td>\r\n                        <td>\r\n                            {{user.rights}}\r\n                        </td>\r\n                        <td class=\"actions\">\r\n                            <router-link :to=\"{\r\n                                name: 'edit_user', \r\n                                params : {\r\n                                    editUserId: user.id\r\n                                }\r\n                            }\">\r\n                                edit\r\n                            </router-link>\r\n                            <p class=\"delete m0 ml8\" @click=\"alert(`do you want to delete ${user.id} user`, user.id)\">\r\n                            delete</p>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <TablePagination @tableData=\"usersList = $event\"\r\n                    tableName=\"users\"\r\n                />            \r\n            </div>\r\n        </div>\r\n        <router-view :editUser=\"$route.params.editUser\"></router-view>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import AlertC from './AlertC.vue'\r\n    import TablePagination from './TablePagination.vue'\r\n    import TableFilter from './TableFilter.vue';\r\n\r\n    export default {\r\n    name: \"UserList\",\r\n    data() {\r\n        return {\r\n            alertData: {\r\n                params: [{\r\n                    user_id: ''\r\n                }],\r\n                msg: '',\r\n            },\r\n            usersList: \"\",\r\n            filteredUsersList: undefined,\r\n            displayAlert: false,\r\n        };\r\n    },\r\n    methods: {\r\n        usersListToDisplay() {\r\n            if (this.filteredUsersList != undefined) {\r\n                console.log(\"filtered\")\r\n                return this.filteredUsersList\r\n            } \r\n            else {\r\n                console.log(\"original\")\r\n                return this.usersList\r\n            }\r\n        },\r\n        deleteUser(params) {\r\n            axios.post('/u/api/users/delete-user', {\r\n                ...params,\r\n            }, {\r\n                withCredentials: true\r\n            })\r\n            .then((results) => {\r\n                console.log(\"deleteUser\", results.data)\r\n            })\r\n        },\r\n        alert(msg, userId) {\r\n            this.displayAlert = true\r\n            this.alertData.params[0].user_id = userId\r\n            this.alertData.msg = msg\r\n        }\r\n    },\r\n    components: { AlertC, TablePagination, TableFilter }\r\n}\r\n</script>\r\n\r\n<style scoped>  \r\n    table {\r\n        width: 100%;\r\n    }\r\n    th, tr, td {\r\n        padding: 12px;\r\n    }\r\n    .actions {\r\n        display: flex;\r\n        flex-direction: horizontal;\r\n    }\r\n</style>","import { render } from \"./UserList.vue?vue&type=template&id=0d073fe0&scoped=true\"\nimport script from \"./UserList.vue?vue&type=script&lang=js\"\nexport * from \"./UserList.vue?vue&type=script&lang=js\"\n\nimport \"./UserList.vue?vue&type=style&index=0&id=0d073fe0&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\portal\\\\frontend\\\\portal\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0d073fe0\"]])\n\nexport default __exports__"],"names":["class","msg","fn","fnParam","$emit","name","props","String","Function","JSON","__exports__","render","for","filter","type","id","dataToFind","data","tableData","methods","filteredData","this","forEach","o","flag","Object","values","join","includes","push","value","getPageData","recordsPerPage","href","pageChange","showPage","n","key","currentPage","pageCount","pageData","totalRecords","computed","numShown","Math","min","first","floor","max","Array","map","k","i","tableName","page","ceil","params","from","records_per_page","withCredentials","then","activities","console","log","created","count","alertData","deleteUser","displayAlert","to","usersList","filteredUsersList","$event","usersListToDisplay","user","first_name","last_name","rights","alert","editUser","$route","user_id","undefined","results","userId","components","AlertC","TablePagination","TableFilter"],"sourceRoot":""}