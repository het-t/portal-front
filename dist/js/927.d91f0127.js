"use strict";(self["webpackChunkportal"]=self["webpackChunkportal"]||[]).push([[927,693],{3693:function(t,e,a){a.r(e),a.d(e,{default:function(){return C}});var s=a(6252),r=a(9963),i=a(3577);const o=t=>((0,s.dD)("data-v-56d94cac"),t=t(),(0,s.Cn)(),t),l={class:"flex table-pagination"},n={class:"recordsPerPage"},c=o((()=>(0,s._)("label",{for:"recordsPerPage"},"entries",-1))),d=o((()=>(0,s._)("option",{value:50},"50",-1))),u=o((()=>(0,s._)("option",{value:100},"100",-1))),g=o((()=>(0,s._)("option",{value:150},"150",-1))),h=o((()=>(0,s._)("option",{value:200},"200",-1))),p=[d,u,g,h],m={class:"neutral"},f=["onClick"],_={class:"neutral"};function y(t,e,a,o,d,u){return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",n,[c,(0,s.wy)((0,s._)("select",{onChange:e[0]||(e[0]=t=>u.getPageData()),id:"recordsPerPage","onUpdate:modelValue":e[1]||(e[1]=t=>d.recordsPerPage=t)},p,544),[[r.bM,d.recordsPerPage]])]),(0,s._)("ul",null,[(0,s._)("li",m,[(0,s._)("button",{onClick:e[2]||(e[2]=t=>u.pageChange(1))},"<")]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(u.showPage(),(t=>((0,s.wg)(),(0,s.iD)("li",{class:"neutral",key:t},[(0,s._)("button",{class:(0,i.C_)(t==d.currentPage?"green":""),onClick:e=>u.pageChange(t)},(0,i.zw)(t),11,f)])))),128)),(0,s._)("li",_,[(0,s._)("button",{onClick:e[3]||(e[3]=t=>u.pageChange(d.pageCount))},">")])])])}var b=a(9669),v=a.n(b),k={name:"TablePagination",data(){return{pageData:"",currentPage:1,recordsPerPage:50,pageCount:"",noCachingTotalRecords:""}},computed:{totalRecords(){return""!=this.noCachingTotalRecords?this.noCachingTotalRecords:this.$store.getters?.[`${this.tableName}/${this.tableName}CountGet`]},isStoreAvailable(){return!(1==this.noCaching)}},props:{tableName:String,sortBy:String,sortOrder:Number,filters:Array,noCaching:Boolean},methods:{showPage(){if(isNaN(this.pageCount))return 0;{let t=5;t=Math.min(t,this.pageCount);let e=this.currentPage-Math.floor(t/2);return e=Math.max(e,1),e=Math.min(e,this.pageCount-t+1),[...Array(t)].map(((t,a)=>a+e))}},pageChange(t){this.currentPage=t,this.isStoreAvailable&&this.$store.commit(`${this.tableName}/currentPageSet`,{index:t}),this.getPageData()},getPageData(){this.pageCount=Math.ceil(this.totalRecords/this.recordsPerPage);let{sortBy:t,sortOrder:e}=this.$store.getters?.[`${this.tableName}/sortGet`]?this.$store.getters?.[`${this.tableName}/sortGet`]:{},a=this.$store.getters?.[`${this.tableName}/${this.tableName}ListGet`]?.(this.currentPage,t,e,this.filters);void 0==a||0==a?.length||a?.length<this.recordsPerPage&&a?.length>=50||!this.isStoreAvailable?v().get(`/u/api/${this.tableName}`,{params:{from:(this.currentPage-1)*this.recordsPerPage,recordsPerPage:this.recordsPerPage,sortBy:t,sortOrder:e,filters:this.filters},withCredentials:!0}).then((a=>{this.isStoreAvailable&&this.$store.commit(`${this.tableName}/${this.tableName}List`,{index:this.currentPage,sortBy:t,sortOrder:e,filters:this.filters,data:a.data[this.tableName+"List"]}),this.$emit("tableData",a.data[this.tableName+"List"])})):this.$emit("tableData",a)}},created(){if(this.isStoreAvailable){const t=this.$store.getters[`${this.tableName}/getCurrentPage`];""==t||void 0==t?this.$store.commit(`${this.tableName}/currentPageSet`,{index:this.currentPage}):this.currentPage=t}""==this.totalRecords||void 0==this.totalRecords?v().get(`/u/api/${this.tableName}/count`,{params:{filters:this.filters},withCredentials:!0}).then((t=>{this.noCachingTotalRecords=t.data.count,this.isStoreAvailable&&this.$store.commit?.(`${this.tableName}/${this.tableName}CountSet`,t?.data?.count),this.getPageData()})):this.getPageData()}},w=a(3744);const P=(0,w.Z)(k,[["render",y],["__scopeId","data-v-56d94cac"]]);var C=P},1049:function(t,e,a){a.d(e,{Z:function(){return c}});var s=a(6252),r=a(9963);function i(t,e,a,i,o,l){const n=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("div",{class:"sort mr8",onClick:e[0]||(e[0]=(...t)=>l.rotateImg&&l.rotateImg(...t)),onKeyup:e[1]||(e[1]=(0,r.D2)(((...t)=>l.rotateImg&&l.rotateImg(...t)),["enter"]))},["string"==a.sortType?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[1==o.sortOrder?((0,s.wg)(),(0,s.j4)(n,{key:0,class:"sort-btn",icon:"fa-solid fa-arrow-down-a-z"})):((0,s.wg)(),(0,s.j4)(n,{key:1,class:"sort-btn",icon:"fa-solid fa-arrow-up-a-z"}))],64)):"number"==a.sortType?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[1==o.sortOrder?((0,s.wg)(),(0,s.j4)(n,{key:0,class:"sort-btn",icon:"fa-solid fa-arrow-down-1-9"})):((0,s.wg)(),(0,s.j4)(n,{key:1,class:"sort-btn",icon:"fa-solid fa-arrow-up-1-9"}))],64)):(0,s.kq)("",!0)],32)}var o={name:"TableSort",props:["sortBy","storeName","sortType"],data(){return{sortOrder:0}},methods:{rotateImg(){1===this.sortOrder?this.sortOrder=0:this.sortOrder=1,this.$emit("clicked"),this.$store.commit(`${this.storeName}/sortSet`,{sortBy:this.sortBy,sortOrder:this.sortOrder})}},updated(){console.log("updated")}},l=a(3744);const n=(0,l.Z)(o,[["render",i],["__scopeId","data-v-8a032ec6"]]);var c=n},3927:function(t,e,a){a.r(e),a.d(e,{default:function(){return B}});var s=a(6252),r=a(9963),i=a(3577);const o=t=>((0,s.dD)("data-v-4d8c6805"),t=t(),(0,s.Cn)(),t),l={class:"card"},n={class:"mt16 ml16 mr16"},c={class:"table-heading"},d={class:"flex"},u=o((()=>(0,s._)("div",{class:"floating-container"}," id ",-1))),g={class:"flex"},h={class:"floating-container"},p={class:"flex"},m={class:"floating-container"},f={class:"flex"},_={class:"floating-container"},y=o((()=>(0,s._)("th",null,[(0,s._)("div",{class:"flex"},[(0,s._)("div",{class:"floating-container"}," key ")])],-1))),b={class:"flex"},v={class:"floating-container"},k={class:"w"},w={class:"flex"},P={class:"floating-container"},C={class:"w"},$={class:"pagination mr16 ml16"};function N(t,e,a,o,N,D){const j=(0,s.up)("table-sort"),T=(0,s.up)("TablePagination"),x=(0,s.Q2)("debounce");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",l,[(0,s._)("div",n,[(0,s._)("table",null,[(0,s._)("tr",c,[(0,s._)("th",null,[(0,s._)("div",d,[((0,s.wg)(),(0,s.j4)(j,{onClicked:e[0]||(e[0]=t=>{N.i=!N.i,N.k=!N.k,N.m=!N.m,N.n=!N.n,N.o=!N.o,N.p=!N.p}),key:N.j,sortBy:"id",sortType:"number",storeName:"activity"})),u])]),(0,s._)("th",null,[(0,s._)("div",g,[((0,s.wg)(),(0,s.j4)(j,{onClicked:e[1]||(e[1]=t=>{N.j=!N.j,N.k=!N.k,N.m=!N.m,N.n=!N.n,N.o=!N.o,N.p=!N.p}),key:N.i,sortBy:"user",sortType:"string",storeName:"activity"})),(0,s._)("div",h,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>N.filterFor[0]=t),ref:"userH",type:"text",class:"header p0",required:""},null,512),[[x,D.sort,"700ms",{lock:!0}],[r.nr,N.filterFor[0]]]),(0,s._)("span",{onClick:e[3]||(e[3]=e=>t.$refs["userH"].focus()),class:"floating-label"},"user")])])]),(0,s._)("th",null,[(0,s._)("div",p,[((0,s.wg)(),(0,s.j4)(j,{onClicked:e[4]||(e[4]=t=>{N.i=!N.i,N.j=!N.j,N.m=!N.m,N.n=!N.n,N.o=!N.o,N.p=!N.p}),key:N.k,sortBy:"act",sortType:"string",storeName:"activity"})),(0,s._)("div",m,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>N.filterFor[1]=t),ref:"activityH",type:"text",class:"header p0",required:""},null,512),[[x,D.sort,"700ms",{lock:!0}],[r.nr,N.filterFor[1]]]),(0,s._)("span",{onClick:e[6]||(e[6]=e=>t.$refs["activityH"].focus()),class:"floating-label"},"activity")])])]),(0,s._)("th",null,[(0,s._)("div",f,[((0,s.wg)(),(0,s.j4)(j,{onClicked:e[7]||(e[7]=t=>{N.i=!N.i,N.j=!N.j,N.k=!N.k,N.n=!N.n,N.o=!N.o,N.p=!N.p}),key:N.m,sortBy:"table",sortType:"string",storeName:"activity"})),(0,s._)("div",_,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>N.filterFor[2]=t),ref:"tableH",type:"text",class:"header p0",required:""},null,512),[[x,D.sort,"700ms",{lock:!0}],[r.nr,N.filterFor[2]]]),(0,s._)("span",{onClick:e[9]||(e[9]=e=>t.$refs["tableH"].focus()),class:"floating-label"},"table")])])]),y,(0,s._)("th",null,[(0,s._)("div",b,[((0,s.wg)(),(0,s.j4)(j,{onClicked:e[10]||(e[10]=t=>{N.i=!N.i,N.j=!N.j,N.k=!N.k,N.m=!N.m,N.o=!N.o,N.p=!N.p}),key:N.n,sortBy:"details",sortType:"string",storeName:"activity"})),(0,s._)("div",v,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>N.filterFor[3]=t),ref:"detailsH",type:"text",class:"header p0",required:""},null,512),[[x,D.sort,"700ms",{lock:!0}],[r.nr,N.filterFor[3]]]),(0,s._)("span",{onClick:e[12]||(e[12]=e=>t.$refs["detailsH"].focus()),class:"floating-label"},"details")])])]),(0,s._)("th",k,[(0,s._)("div",w,[((0,s.wg)(),(0,s.j4)(j,{onClicked:e[13]||(e[13]=t=>{N.i=!N.i,N.j=!N.j,N.k=!N.k,N.m=!N.m,N.n=!N.n,N.p=!N.p}),key:N.o,sortBy:"time",sortType:"number",storeName:"activity"})),(0,s._)("div",P,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[14]||(e[14]=t=>N.filterFor[4]=t),ref:"timeH",type:"text",class:"header p0",required:""},null,512),[[x,D.sort,"700ms",{lock:!0}],[r.nr,N.filterFor[4]]]),(0,s._)("span",{onClick:e[15]||(e[15]=e=>t.$refs["timeH"].focus()),class:"floating-label"},"time")])])])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(N.activityData,(t=>((0,s.wg)(),(0,s.iD)("tr",{class:"tr",key:t?.id},[(0,s._)("td",null,[(0,s._)("span",null,(0,i.zw)(t?.id),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,i.zw)(t?.email),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,i.zw)(t?.activity),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,i.zw)(t?.referenceTable),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,i.zw)(t?.referenceTablePkId),1)]),(0,s._)("td",null,[(0,s._)("span",null,(0,i.zw)(t?.detail),1)]),(0,s._)("td",C,[(0,s._)("span",null,(0,i.zw)(new Date(t?.datestamp).toLocaleString()),1)])])))),128))])]),(0,s._)("div",$,[((0,s.wg)(),(0,s.j4)(T,{onTableData:e[16]||(e[16]=t=>D.tablePagination(t)),filters:N.filterFor,key:N.p,tableName:"activity"},null,8,["filters"]))])])])}var D=a(3693),j=a(1049),T={name:"UserActivity",data(){return{activityData:[],i:0,j:0,k:0,l:0,m:0,n:0,o:0,p:0,filterFor:["","","","",""]}},methods:{tablePagination(t){console.log("in user activity",t),this.activityData=t},sort(){this.p=!this.p}},components:{TablePagination:D["default"],TableSort:j.Z}},x=a(3744);const S=(0,x.Z)(T,[["render",N],["__scopeId","data-v-4d8c6805"]]);var B=S}}]);
//# sourceMappingURL=927.d91f0127.js.map