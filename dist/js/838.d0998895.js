"use strict";(self["webpackChunkportal"]=self["webpackChunkportal"]||[]).push([[838],{3838:function(e,s,r){r.r(s),r.d(s,{default:function(){return Z}});var a=r(6252),t=r(3577),l=r(9963);const i=e=>((0,a.dD)("data-v-ba355e6a"),e=e(),(0,a.Cn)(),e),d={class:"card"},u={class:"card-head m0 pb16 pt16 pr16 pl16"},o={class:"table-head m0"},n={class:"mr16 ml16 mt16 mb16 pr12 pl12"},m={class:"fg-wrapper"},c={class:"fg"},p=i((()=>(0,a._)("p",{class:"head-tr"},"general",-1))),h={id:"i1",class:"row mt8"},_=i((()=>(0,a._)("label",{for:"user-firstname",class:"labels c1"},"firstname",-1))),w={id:"i2",class:"row mt8"},b=i((()=>(0,a._)("label",{for:"user-lastname",class:"labels c1"},"lastname",-1))),f={id:"i3",class:"row mt8"},v=i((()=>(0,a._)("label",{for:"user-gender",class:"labels c1"},"gender",-1))),g=i((()=>(0,a._)("option",{value:"male"},"Male",-1))),U=i((()=>(0,a._)("option",{value:"female"},"Female",-1))),y=i((()=>(0,a._)("option",{value:"others"},"Others",-1))),N=[g,U,y],C={id:"i4",class:"row mt8"},I=i((()=>(0,a._)("label",{for:"user-birthdate",class:"labels c1"},"birthdate",-1))),R=i((()=>(0,a._)("div",{class:"vr"},null,-1))),B={class:"fg"},F=i((()=>(0,a._)("p",{class:"head-tr"},"credentials",-1))),k={id:"i5",class:"row mt8"},E=i((()=>(0,a._)("label",{for:"user-email",class:"labels c1"},"email",-1))),G={id:"i6",class:"row mt8"},L=i((()=>(0,a._)("label",{for:"user-role",class:"labels c1"},"role",-1))),M=["value"],V={id:"i7",class:"row mt8"},D=i((()=>(0,a._)("label",{for:"user-pwd",class:"labels c1"},"password",-1)));function P(e,s,r,i,g,U){return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",u,[(0,a._)("h5",o,(0,t.zw)(g.formHead),1)]),(0,a._)("form",n,[(0,a._)("div",m,[(0,a._)("div",c,[p,(0,a._)("div",h,[_,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>g.userFirstName=e),id:"user-firstname",type:"text"},null,512),[[l.nr,g.userFirstName]])]),(0,a._)("div",w,[b,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>g.userLastName=e),type:"text",id:"user-lastname"},null,512),[[l.nr,g.userLastName]])]),(0,a._)("div",f,[v,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>g.userGender=e),id:"user-gender"},N,512),[[l.bM,g.userGender]])]),(0,a._)("div",C,[I,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>g.userBithdate=e),type:"date",id:"user-birthdate"},null,512),[[l.nr,g.userBithdate]])])]),R,(0,a._)("div",B,[F,(0,a._)("div",k,[E,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[4]||(s[4]=e=>g.userEmail=e),type:"text",id:"user-email"},null,512),[[l.nr,g.userEmail]])]),(0,a._)("div",G,[L,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":s[5]||(s[5]=e=>g.userRole=e),type:"text",id:"user-role"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(g.dbRoles,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.name},(0,t.zw)(e.name),9,M)))),128))],512),[[l.bM,g.userRole]])]),(0,a._)("div",V,[D,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>g.userPassword=e),type:"password",id:"user-pwd"},null,512),[[l.nr,g.userPassword]])])])]),(0,a._)("button",{onClick:s[7]||(s[7]=(0,l.iM)((e=>U.clear()),["prevent"])),class:"neutral mt16 button"},"cancel"),(0,a._)("button",{onClick:s[8]||(s[8]=(0,l.iM)((e=>(U.proceed(),U.clear())),["prevent"])),class:"green ml8 mt16 button"},(0,t.zw)(g.proceedBtn),1)])])}var x=r(9669),H=r.n(x),z=r(3907),K={name:"CreateUser",props:["editUserId"],data(){return{userFirstName:"",userLastName:"",userGender:"",userBithdate:"",userEmail:"",userRole:"",userPassword:"",dbRoles:[],userId:"",proceedBtn:"create",formHead:"create user"}},created(){console.log("editing user ",this.editUserId),void 0!=this.editUserId&&(this.proceedBtn="save",this.formHead="edit user",H().get("/u/api/users/edit",{withCredentials:!0,params:{editUserId:this.editUserId}}).then((e=>{console.log("userData: ",e.data);const s=e.data;this.userFirstName=s.first_name,this.userLastName=s.last_name,this.userGender=s.gender,this.userBithdate=new Date(s.birth_date),this.userEmail=s.email,this.userRole=s.role,this.userPassword=s.password,this.userId=s.id}))),H().get("/u/api/roles",{withCredentials:!0,params:{from:0,records_per_page:100}}).then((e=>{console.log("all roles: ",e),this.dbRoles=e.data}))},methods:{...(0,z.nv)(["promptMessage"]),proceed(){this.$router.push("/u/users/list"),this.promptMessage({title:"User Created",msg:"successfully"}),this.userId?this.editUser():this.createUser()},createUser(){H().post("/u/api/users/create-user",{params:{first_name:this.userFirstName,last_name:this.userLastName,gender:this.userGender,birthdate:this.userBithdate,email:this.userEmail,role:this.userRole,password:this.userPassword}},{withCredentials:!0})},editUser(){H().post("/u/api/users/edit-user",{params:{user_id:this.userId,first_name:this.userFirstName,last_name:this.userLastName,gender:this.userGender,birthdate:"2003/10/19",email:this.userEmail,role:this.userRole}},{withCredentials:!0})},clear(){this.userFirstName="",this.userLastName="",this.userGender="",this.userBithdate="",this.userEmail="",this.userRole="",this.userPassword=""}}},O=r(3744);const Y=(0,O.Z)(K,[["render",P],["__scopeId","data-v-ba355e6a"]]);var Z=Y}}]);
//# sourceMappingURL=838.d0998895.js.map