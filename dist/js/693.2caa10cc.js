"use strict";(self["webpackChunkportal"]=self["webpackChunkportal"]||[]).push([[693],{3693:function(t,e,a){a.r(e),a.d(e,{default:function(){return D}});var r=a(6252),s=a(9963),i=a(3577);const o=t=>((0,r.dD)("data-v-56d94cac"),t=t(),(0,r.Cn)(),t),n={class:"flex table-pagination"},l={class:"recordsPerPage"},h=o((()=>(0,r._)("label",{for:"recordsPerPage"},"entries",-1))),g=o((()=>(0,r._)("option",{value:50},"50",-1))),c=o((()=>(0,r._)("option",{value:100},"100",-1))),u=o((()=>(0,r._)("option",{value:150},"150",-1))),d=o((()=>(0,r._)("option",{value:200},"200",-1))),P=[g,c,u,d],m={class:"neutral"},b=["onClick"],p={class:"neutral"};function C(t,e,a,o,g,c){return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("div",l,[h,(0,r.wy)((0,r._)("select",{onChange:e[0]||(e[0]=t=>c.getPageData()),id:"recordsPerPage","onUpdate:modelValue":e[1]||(e[1]=t=>g.recordsPerPage=t)},P,544),[[s.bM,g.recordsPerPage]])]),(0,r._)("ul",null,[(0,r._)("li",m,[(0,r._)("button",{onClick:e[2]||(e[2]=t=>c.pageChange(1))},"<")]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.showPage(),(t=>((0,r.wg)(),(0,r.iD)("li",{class:"neutral",key:t},[(0,r._)("button",{class:(0,i.C_)(t==g.currentPage?"green":""),onClick:e=>c.pageChange(t)},(0,i.zw)(t),11,b)])))),128)),(0,r._)("li",p,[(0,r._)("button",{onClick:e[3]||(e[3]=t=>c.pageChange(g.pageCount))},">")])])])}var $=a(9669),N=a.n($),f={name:"TablePagination",data(){return{pageData:"",currentPage:1,recordsPerPage:50,pageCount:"",noCachingTotalRecords:""}},computed:{totalRecords(){return""!=this.noCachingTotalRecords?this.noCachingTotalRecords:this.$store.getters?.[`${this.tableName}/${this.tableName}CountGet`]},isStoreAvailable(){return!(1==this.noCaching)}},props:{tableName:String,sortBy:String,sortOrder:Number,filters:Array,noCaching:Boolean},methods:{showPage(){if(isNaN(this.pageCount))return 0;{let t=5;t=Math.min(t,this.pageCount);let e=this.currentPage-Math.floor(t/2);return e=Math.max(e,1),e=Math.min(e,this.pageCount-t+1),[...Array(t)].map(((t,a)=>a+e))}},pageChange(t){this.currentPage=t,this.isStoreAvailable&&this.$store.commit(`${this.tableName}/currentPageSet`,{index:t}),this.getPageData()},getPageData(){this.pageCount=Math.ceil(this.totalRecords/this.recordsPerPage);let{sortBy:t,sortOrder:e}=this.$store.getters?.[`${this.tableName}/sortGet`]?this.$store.getters?.[`${this.tableName}/sortGet`]:{},a=this.$store.getters?.[`${this.tableName}/${this.tableName}ListGet`]?.(this.currentPage,t,e,this.filters);void 0==a||0==a?.length||a?.length<this.recordsPerPage&&a?.length>=50||!this.isStoreAvailable?N().get(`/u/api/${this.tableName}`,{params:{from:(this.currentPage-1)*this.recordsPerPage,recordsPerPage:this.recordsPerPage,sortBy:t,sortOrder:e,filters:this.filters},withCredentials:!0}).then((a=>{this.isStoreAvailable&&this.$store.commit(`${this.tableName}/${this.tableName}List`,{index:this.currentPage,sortBy:t,sortOrder:e,filters:this.filters,data:a.data[this.tableName+"List"]}),this.$emit("tableData",a.data[this.tableName+"List"])})):this.$emit("tableData",a)}},created(){if(this.isStoreAvailable){const t=this.$store.getters[`${this.tableName}/getCurrentPage`];""==t||void 0==t?this.$store.commit(`${this.tableName}/currentPageSet`,{index:this.currentPage}):this.currentPage=t}""==this.totalRecords||void 0==this.totalRecords?N().get(`/u/api/${this.tableName}/count`,{params:{filters:this.filters},withCredentials:!0}).then((t=>{this.noCachingTotalRecords=t.data.count,this.isStoreAvailable&&this.$store.commit?.(`${this.tableName}/${this.tableName}CountSet`,t?.data?.count),this.getPageData()})):this.getPageData()}},v=a(3744);const _=(0,v.Z)(f,[["render",C],["__scopeId","data-v-56d94cac"]]);var D=_}}]);
//# sourceMappingURL=693.2caa10cc.js.map