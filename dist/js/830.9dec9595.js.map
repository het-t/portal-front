{"version":3,"file":"js/830.9dec9595.js","mappings":"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","sources":["webpack://portal/./src/components/RoleCreate.vue","webpack://portal/./src/components/RoleCreate.vue?3454","webpack://portal/./src/helpers/swalCreate.js","webpack://portal/./src/helpers/swalEdit.js"],"sourcesContent":["<template>\r\n    <div class=\"card pr16 pl16 pb16\">\r\n        <form class=\"pr16 pl16 pt16 pb16\">\r\n            <div class=\"row mt8\">\r\n                <label ref=\"focus\" for=\"role-name\" class=\"labels c1\">name</label>\r\n                <input v-model=\"roleName\" type=\"text\" id=\"role-name\"> \r\n            </div>\r\n                \r\n            <div class=\"hr\"></div>\r\n\r\n            <div class=\"row mt8\">\r\n                <label class=\"labels c1\">rights</label>\r\n                <div>\r\n                    <div class=\"mt16 flex\" v-for=\"right in rightsList\" :key=\"right\">\r\n                        <input v-model=\"roleRights\" \r\n                            :id=\"right.id\" \r\n                            :value=\"right.id\" \r\n                            class=\"m0 mr16\" \r\n                            type=\"checkbox\" \r\n                            :name=\"right.name\" \r\n                            :title=\"right?.description\"\r\n                        >\r\n                        <label :for=\"right.id\">{{right.name}}</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"hr\"></div>\r\n\r\n            <button \r\n                :disabled=\"disabled === true\"\r\n                @click.prevent=\"(editRoleId == undefined || editRoleId == '') ? createRole({roleName, roleRights}) : editRole()\" \r\n                class=\"green button\"\r\n            >save</button>\r\n            <button \r\n                :disabled=\"disabled === true\" \r\n                @click.prevent=\"canceled()\" \r\n                class=\"neutral ml8 button\"\r\n            >cancel</button>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { roles } from '@/api'\r\nimport useCreateSwal from '@/helpers/swalCreate'\r\nimport useEditSwal from '../helpers/swalEdit'\r\n\r\n    export default {\r\n        name: 'CreateRole',\r\n        props: ['editRoleId', 'uk'],\r\n        data() {\r\n            return {\r\n                roleName: '',\r\n                roleRights: [],\r\n                rightsList: [],\r\n                disabled: false\r\n            }\r\n        },\r\n        methods: {\r\n            createRole({roleName, roleRights}) {\r\n                this.disabled = true\r\n                useCreateSwal({\r\n                    text: roleName,\r\n                    mutationFnName: 'roles/RESET_STATE',\r\n                    promise: roles.create({roleName, roleRights}),\r\n                    context: this,\r\n                    url: '/u/roles/list'\r\n                }) \r\n            },\r\n            editRole() {\r\n                this.disabled = true\r\n                const args = {\r\n                    roleId: this.editRoleId,\r\n                    roleName: this.roleName,\r\n                    roleRights: this.roleRights\r\n                }\r\n                \r\n                useEditSwal({\r\n                    text: args.roleName,\r\n                    mutationFnName: 'roles/refetch',\r\n                    mutationArgs: {roleId: args.roleId},\r\n                    promise: roles.edit(args),\r\n                    context: this\r\n                })\r\n            },\r\n            canceled() {\r\n                if (this.editRoleId != undefined) {\r\n                    this.$emit(\"editingCompleted\", {force: true})\r\n                }\r\n                else this.$router.push('/u/roles/list')\r\n            }\r\n        },\r\n        created() {                       \r\n            this.rightsList = this.$store.getters['rights/getAllRightsList']    //action invoked in rolesview.js\r\n            \r\n            const roleDataStore = this.$store.getters['roles/rolesDataGet'](this.editRoleId)\r\n            \r\n            console.log(\"editing\", roleDataStore)\r\n            \r\n            if (roleDataStore != undefined && roleDataStore != '') {\r\n                console.log(\"coming inside\", roleDataStore)\r\n                this.roleName = roleDataStore[0].roleName\r\n                this.roleRights = roleDataStore.map(o => o.rightId)\r\n            }\r\n        },\r\n        mounted() {\r\n            this.$refs['focus'].focus()\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .flex {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 12px;\r\n    }\r\n    input[type=\"text\"], input[type=\"date\"] {\r\n        width: 40% !important;\r\n    }\r\n    input[type=\"checkbox\"] {\r\n        width:auto !important;\r\n        display: inline;\r\n    }\r\n    .labels {\r\n        align-self: center;\r\n    }\r\n\r\n</style>","import { render } from \"./RoleCreate.vue?vue&type=template&id=5af4d39c&scoped=true\"\nimport script from \"./RoleCreate.vue?vue&type=script&lang=js\"\nexport * from \"./RoleCreate.vue?vue&type=script&lang=js\"\n\nimport \"./RoleCreate.vue?vue&type=style&index=0&id=5af4d39c&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\portal\\\\frontend\\\\portal\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5af4d39c\"]])\n\nexport default __exports__","// import store from '@/store/index.js'\r\nimport swal from 'sweetalert'\r\n\r\nexport default function useCreateSwal({text, url, mutationFnName, mutationArgs, promise, context}) {\r\n    let args = mutationArgs\r\n    if (args == undefined) args = {}\r\n\r\n    promise\r\n    .then(() =>\r\n        swal({\r\n            title: \"Success\",\r\n            text: `Created \"${text}\"`,\r\n            icon: 'success',\r\n            button: 'ok',\r\n        })\r\n    )\r\n    .then(() => { \r\n        context.$store.commit(mutationFnName, args)\r\n        setTimeout(() => context.$router.push(url), 1)\r\n    })\r\n    .catch((err) => {\r\n        if (err != null) swal(\"Oops!\", `We can't perform this action right now please try again\\n\\n details: ${err}`)\r\n    })\r\n    .finally(() => {\r\n        context.disabled = false\r\n    })\r\n}","import store from '@/store/index.js'\r\nimport swal from 'sweetalert'\r\n\r\nexport default function useEditSwal({text, mutationFnName, mutationArgs, promise, context}) {\r\n    promise\r\n    .then(() => {\r\n        if (mutationFnName) store.commit(mutationFnName, mutationArgs)\r\n        context.$emit('editingCompleted', {}) //to toggle hidden-tr\r\n        return swal({\r\n            title: \"Success\",\r\n            text: `Edited \"${text}\"`,\r\n            icon: \"success\",\r\n            button: \"Ok\"\r\n        })\r\n    })\r\n    .catch((err) =>{ \r\n        if (err != null) return swal(\"Oops!\", `We can't perform this action right now please try again\\n\\n details: ${err}`)\r\n    })\r\n    .finally(() => {\r\n        context.disabled = false\r\n    })\r\n}"],"names":["class","ref","for","type","id","roleName","rightsList","right","key","value","name","title","description","roleRights","disabled","undefined","editRoleId","createRole","editRole","canceled","props","data","methods","this","text","mutationFnName","promise","context","url","args","roleId","mutationArgs","$emit","force","$router","push","created","$store","getters","roleDataStore","console","log","map","o","rightId","mounted","$refs","focus","__exports__","render","useCreateSwal","then","icon","button","commit","setTimeout","catch","err","finally","useEditSwal"],"sourceRoot":""}