"use strict";(self["webpackChunkportal"]=self["webpackChunkportal"]||[]).push([[230],{9230:function(t,e,i){i.r(e),i.d(e,{default:function(){return W}});var a=i(6252),n=i(9963),l=i(3577);const s=t=>((0,a.dD)("data-v-75ec4376"),t=t(),(0,a.Cn)(),t),c={class:"card"},o={class:"table-tabs"},d={class:"mt16 ml16 pb32 pr16 pl16"},r={class:"fg-wrapper"},m={class:"row mt8"},u=s((()=>(0,a._)("label",{for:"client-cli-llpin",class:"labels c1"},"CIN/LLPIN",-1))),p={id:"i1",class:"row mt8"},h=s((()=>(0,a._)("label",{for:"client-name",class:"labels c1"},"name",-1))),f={id:"i3",class:"row mt8"},b=s((()=>(0,a._)("label",{for:"client-type",class:"labels c1"},"type",-1))),_=["value"],y={id:"i5",class:"row mt8"},v=s((()=>(0,a._)("label",{for:"firm-name",class:"labels c1"},"firm-name",-1))),N={id:"i6",class:"row mt8"},w=s((()=>(0,a._)("label",{for:"address",class:"labels c1"},"address",-1))),g={id:"i7",class:"row mt8"},k=s((()=>(0,a._)("label",{for:"PAN",class:"labels c1"},"PAN",-1))),P={id:"i8",class:"row mt8"},E=s((()=>(0,a._)("label",{for:"ca-email",class:"labels c1"},"email",-1))),T={class:"fg-wrapper"},$={class:"row mt8"},C=s((()=>(0,a._)("label",{for:"contact-name",class:"labels c1"},"name",-1))),x={class:"row mt8"},I=s((()=>(0,a._)("label",{for:"contact-email",class:"labels c1"},"email",-1))),A={class:"row mt8"},L=s((()=>(0,a._)("label",{for:"contact-phone",class:"labels c1"},"phone",-1))),U=["disabled"],V=["disabled"];function D(t,e,i,s,D,Z){return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",o,[(0,a._)("button",{onClick:e[0]||(e[0]=t=>Z.openTab(t,"client")),ref:"defaultTab"+i.uk,class:"button neutral tab"},"client detail",512),(0,a._)("button",{onClick:e[1]||(e[1]=t=>Z.openTab(t,"ca")),class:"button neutral tab"},"ca details"),(0,a._)("button",{onClick:e[2]||(e[2]=t=>Z.openTab(t,"contact")),class:"button neutral tab"},"contact")]),(0,a._)("form",d,[(0,a._)("div",r,[(0,a._)("div",{class:"hide fg",ref:"client"+i.uk},[(0,a._)("div",m,[u,(0,a.wy)((0,a._)("input",{ref:"client"+i.uk+"focus","onUpdate:modelValue":e[3]||(e[3]=t=>D.cin=t),type:"text",id:"client-cli-llpin"},null,512),[[n.nr,D.cin]])]),(0,a._)("div",p,[h,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>D.clientName=t),id:"client-name",type:"text"},null,512),[[n.nr,D.clientName]])]),(0,a._)("div",f,[b,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>D.clientTypeId=t),id:"client-type"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Z.clientTypes,((t,e)=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:t.id},(0,l.zw)(t.type),9,_)))),128))],512),[[n.bM,D.clientTypeId]])])],512),(0,a._)("div",{class:"hide fg",ref:"ca"+i.uk},[(0,a._)("div",y,[v,(0,a.wy)((0,a._)("input",{ref:"ca"+i.uk+"focus","onUpdate:modelValue":e[6]||(e[6]=t=>D.firmName=t),type:"text",id:"firm-name"},null,512),[[n.nr,D.firmName]])]),(0,a._)("div",N,[w,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>D.firmAddress=t),type:"text",id:"address"},null,512),[[n.nr,D.firmAddress]])]),(0,a._)("div",g,[k,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>D.caPan=t),type:"text",id:"PAN"},null,512),[[n.nr,D.caPan]])]),(0,a._)("div",P,[E,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>D.caEmail=t),type:"text",id:"ca-email"},null,512),[[n.nr,D.caEmail]])])],512)]),(0,a._)("div",T,[(0,a._)("div",{class:"hide fg",ref:"contact"+i.uk},[(0,a._)("div",$,[C,(0,a.wy)((0,a._)("input",{ref:"contact"+i.uk+"focus","onUpdate:modelValue":e[10]||(e[10]=t=>D.conName=t),type:"text",id:"contact-name"},null,512),[[n.nr,D.conName]])]),(0,a._)("div",x,[I,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>D.conEmail=t),type:"text",id:"contact-email"},null,512),[[n.nr,D.conEmail]])]),(0,a._)("div",A,[L,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":e[12]||(e[12]=t=>D.conPhone=t),type:"text",id:"contact-phone"},null,512),[[n.nr,D.conPhone]])])],512)]),(0,a._)("button",{disabled:!0===D.disabled,onClick:e[13]||(e[13]=(0,n.iM)((t=>Z.proceed()),["prevent"])),class:"green mt16 button"},"save",8,U),(0,a._)("button",{disabled:!0===D.disabled,onClick:e[14]||(e[14]=(0,n.iM)((t=>Z.canceled()),["prevent"])),class:"neutral ml8 mt16 button"},"cancel",8,V)])])}var Z=i(4754),F=i(4802),S=i(3262),M={name:"ClientCreate",props:["clientData","uk"],data(){return{cin:"",clientName:"",clientTypeId:"",firmName:"",firmAddress:"",caPan:"",caEmail:"",conName:"",conEmail:"",conPhone:"",editing:!1,editClientId:"",disabled:!1}},computed:{clientTypes(){return this.$store.getters["clients/getAllTypesList"]}},methods:{openTab(t,e){var i=t.target.parentElement.getElementsByClassName("tab");let a=[...i].find((t=>1==t?.classList?.contains("tab-open")));a?.classList?.remove("tab-open"),t?.target?.classList?.add("tab-open"),this.$refs["client"+this.uk]?.classList?.add("hide"),this.$refs["ca"+this.uk]?.classList?.add("hide"),this.$refs["contact"+this.uk]?.classList?.add("hide"),this.$refs[e+this.uk]?.classList?.remove("hide"),this.$refs[e+this.uk+"focus"].focus()},canceled(){1==this.editing&&this.$emit("editingCompleted"),this.$router.push("/u/clients/list")},proceed(){this.disabled=!0;const t={clientId:this.editClientId,clientName:this.clientName,clientTypeId:this.clientTypeId,cin:this.cin,firmName:this.firmName,firmAddress:this.firmAddress,caEmail:this.caEmail,caPan:this.caPan,conName:this.conName,conEmail:this.conEmail,conPhone:this.conPhone,status:this.$store.getters["clients/getClientStatus"]};void 0!=t.clientId&&""!=t.clientId?(0,F.Z)({text:t.clientName,mutationFnName:"clients/refetch",promise:Promise.all([Z.yj.edit(t)]),context:this}):(0,S.Z)({text:t.clientName,url:"/u/clients/list",promise:Promise.all([Z.yj.create(t)]),mutationFnName:"clients/RESET_STATE",mutationArgs:{},context:this})}},mounted(){if(this.$refs["defaultTab"+this.uk].click(),void 0!=this.clientData&&(this.editing=!0),0!=this.editing){const{id:t,typeId:e,name:i,cin:a,caFirmName:n,caAddress:l,caPan:s,caEmail:c,conName:o,conEmail:d,conPhone:r}=JSON.parse(this.clientData);this.editClientId=t,this.clientName=i,this.cin=a,this.clientTypeId=e,this.firmName=n,this.firmAddress=l,this.caPan=s,this.caEmail=c,this.conName=o,this.conEmail=d,this.conPhone=r}}},O=i(3744);const j=(0,O.Z)(M,[["render",D],["__scopeId","data-v-75ec4376"]]);var W=j},3262:function(t,e,i){function a({text:t,url:e,mutationFnName:i,mutationArgs:a,promise:n,context:l}){let s=a;void 0==s&&(s={}),n.then((()=>l.$toast.success(`saved ${t}`))).then((()=>{i&&l.$store.commit(i,s),setTimeout((()=>l.$router.push(e)),1)})).catch((t=>{null!=t&&l.$toast.error("Oops! We can't perform this action right now")})).finally((()=>{l.disabled=!1}))}i.d(e,{Z:function(){return a}})},4802:function(t,e,i){i.d(e,{Z:function(){return n}});var a=i(2283);function n({text:t,mutationFnName:e,mutationArgs:i,promise:n,context:l}){n.then((()=>{e&&a.Z.commit(e,i),l.$emit("editingCompleted",{}),l.$toast.success(`Saved ${t}`)})).catch((t=>{if(null!=t)return l.$toast.error("Oops! We can't perform this action right now")})).finally((()=>{l.disabled=!1,void 0!=l?.polling&&(l.polling=!0)}))}}}]);
//# sourceMappingURL=230.a3bdafdd.js.map