"use strict";(self["webpackChunkportal"]=self["webpackChunkportal"]||[]).push([[824],{5824:function(e,a,t){t.r(a),t.d(a,{default:function(){return g}});var s=t(6252),i=t(9963);const l=e=>((0,s.dD)("data-v-1b965c36"),e=e(),(0,s.Cn)(),e),n={class:"login"},r={class:"login-main"},d=l((()=>(0,s._)("p",{id:"banner"},"Login",-1))),m={class:"rememberme-container mb16"},o=l((()=>(0,s._)("label",{for:"rememberme"},"remember me",-1))),p=["disabled"];function u(e,a,t,l,u,c){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",r,[(0,s._)("form",null,[d,(0,s.wy)((0,s._)("input",{ref:"focus","onUpdate:modelValue":a[0]||(a[0]=e=>u.email=e),placeholder:"Username",id:"email",type:"text",name:"email",class:"mb8"},null,512),[[i.nr,u.email]]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>u.pwd=e),placeholder:"Password",id:"pwd",type:"password",name:"password",class:"mb8"},null,512),[[i.nr,u.pwd]]),(0,s._)("div",m,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>u.remember=e),type:"checkbox",id:"rememberme"},null,512),[[i.e8,u.remember]]),o]),(0,s._)("button",{disabled:u.disabled,class:"green button",onClick:a[3]||(a[3]=(0,i.iM)((e=>(c.login(),c.clear())),["prevent"]))},"login",8,p)])])])}var c=t(6737),h=t.n(c),b=t(6193),w={name:"LogIn",data(){return{email:"",pwd:"",remember:!0,disabled:!1}},methods:{login(){this.disabled=!0,b.Z.post("api/login",{email:this.email,password:this.pwd,remember:this.remember},{withCredentials:!0}).then((e=>{1==e?.data?.login?this.$router.push({name:"my_tasks_list"}):this.$router.push({name:"login"})})).catch((e=>h()({text:`Ooops ${e}`}))).finally((()=>{setTimeout((()=>{this.disabled=!1}),1e3)}))},clear(){this.email="",this.pwd=""}},mounted(){this.$refs["focus"].focus(),b.Z.get("api/",{withCredentials:!0}).then((e=>{"1"==e?.data&&this.$router.push({name:"my_tasks_list"})})).catch((()=>{this.$router.push({name:"login"})}))}},_=t(3744);const f=(0,_.Z)(w,[["render",u],["__scopeId","data-v-1b965c36"]]);var g=f}}]);
//# sourceMappingURL=824.f1804ebd.js.map