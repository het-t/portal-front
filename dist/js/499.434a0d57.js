"use strict";(self["webpackChunkportal"]=self["webpackChunkportal"]||[]).push([[499],{9499:function(e,t,i){i.r(t),i.d(t,{default:function(){return R}});var a=i(6252),n=i(9963),l=i(3577);const s=e=>((0,a.dD)("data-v-3326db4a"),e=e(),(0,a.Cn)(),e),c={class:"card"},o={class:"table-tabs"},d={class:"mt16 pb32 pr16 pl16"},r={class:"fg-wrapper pl16"},m={class:"row mt8"},u=s((()=>(0,a._)("label",{for:"client-cli-llpin",class:"labels c1"},"CIN/LLPIN",-1))),p={id:"i1",class:"row mt8"},h=s((()=>(0,a._)("label",{for:"client-name",class:"labels c1"},"name",-1))),f={id:"i3",class:"row mt8"},b=s((()=>(0,a._)("label",{for:"client-type",class:"labels c1"},"type",-1))),_=["value"],y={id:"i5",class:"row mt8"},v=s((()=>(0,a._)("label",{for:"firm-name",class:"labels c1"},"firm-name",-1))),N={id:"i6",class:"row mt8"},w=s((()=>(0,a._)("label",{for:"address",class:"labels c1"},"address",-1))),g={id:"i7",class:"row mt8"},k=s((()=>(0,a._)("label",{for:"PAN",class:"labels c1"},"PAN",-1))),E={id:"i8",class:"row mt8"},T=s((()=>(0,a._)("label",{for:"ca-email",class:"labels c1"},"email",-1))),P={class:"fg-wrapper pl16"},x={class:"row mt8"},C=s((()=>(0,a._)("label",{for:"contact-name",class:"labels c1"},"name",-1))),A={class:"row mt8"},I=s((()=>(0,a._)("label",{for:"contact-email",class:"labels c1"},"email",-1))),$={class:"row mt8"},L=s((()=>(0,a._)("label",{for:"contact-phone",class:"labels c1"},"phone",-1)));function U(e,t,i,s,U,V){return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",o,[(0,a._)("button",{onClick:t[0]||(t[0]=e=>V.openTab(e,"client")),ref:"defaultTab"+i.uk,class:"button neutral tab"},"client detail",512),(0,a._)("button",{onClick:t[1]||(t[1]=e=>V.openTab(e,"ca")),class:"button neutral tab"},"ca details"),(0,a._)("button",{onClick:t[2]||(t[2]=e=>V.openTab(e,"contact")),class:"button neutral tab"},"contact")]),(0,a._)("form",d,[(0,a._)("div",r,[(0,a._)("div",{class:"hide fg",ref:"client"+i.uk},[(0,a._)("div",m,[u,(0,a.wy)((0,a._)("input",{ref:"client"+i.uk+"focus","onUpdate:modelValue":t[3]||(t[3]=e=>U.cin=e),type:"text",id:"client-cli-llpin"},null,512),[[n.nr,U.cin]])]),(0,a._)("div",p,[h,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>U.clientName=e),id:"client-name",type:"text"},null,512),[[n.nr,U.clientName]])]),(0,a._)("div",f,[b,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>U.clientTypeId=e),id:"client-type"},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(V.clientTypes,((e,t)=>((0,a.wg)(),(0,a.iD)("option",{key:t,value:e.id},(0,l.zw)(e.type),9,_)))),128))],512),[[n.bM,U.clientTypeId]])])],512),(0,a._)("div",{class:"hide fg",ref:"ca"+i.uk},[(0,a._)("div",y,[v,(0,a.wy)((0,a._)("input",{ref:"ca"+i.uk+"focus","onUpdate:modelValue":t[6]||(t[6]=e=>U.firmName=e),type:"text",id:"firm-name"},null,512),[[n.nr,U.firmName]])]),(0,a._)("div",N,[w,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>U.firmAddress=e),type:"text",id:"address"},null,512),[[n.nr,U.firmAddress]])]),(0,a._)("div",g,[k,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>U.caPan=e),type:"text",id:"PAN"},null,512),[[n.nr,U.caPan]])]),(0,a._)("div",E,[T,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>U.caEmail=e),type:"text",id:"ca-email"},null,512),[[n.nr,U.caEmail]])])],512)]),(0,a._)("div",P,[(0,a._)("div",{class:"hide fg",ref:"contact"+i.uk},[(0,a._)("div",x,[C,(0,a.wy)((0,a._)("input",{ref:"contact"+i.uk+"focus","onUpdate:modelValue":t[10]||(t[10]=e=>U.conName=e),type:"text",id:"contact-name"},null,512),[[n.nr,U.conName]])]),(0,a._)("div",A,[I,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>U.conEmail=e),type:"text",id:"contact-email"},null,512),[[n.nr,U.conEmail]])]),(0,a._)("div",$,[L,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>U.conPhone=e),type:"text",id:"contact-phone"},null,512),[[n.nr,U.conPhone]])])],512)]),(0,a._)("button",{onClick:t[13]||(t[13]=(0,n.iM)((e=>V.proceed()),["prevent"])),class:"green mt16 ml16 button"},"save"),(0,a._)("button",{onClick:t[14]||(t[14]=(0,n.iM)((e=>V.canceled()),["prevent"])),class:"neutral ml8 mt16 button"},"cancel")])])}var V=i(9235),D=i(4802),S=i(3262),F=i(6737),M=i.n(F),Z={name:"ClientCreate",props:["clientData","uk"],data(){return{cin:"",clientName:"",clientTypeId:"",firmName:"",firmAddress:"",caPan:"",caEmail:"",conName:"",conEmail:"",conPhone:"",editing:!1,editClientId:""}},computed:{clientTypes(){return this.$store.getters["clients/getAllTypesList"]}},methods:{openTab(e,t){var i=e.target.parentElement.getElementsByClassName("tab");let a=[...i].find((e=>1==e?.classList?.contains("tab-open")));a?.classList?.remove("tab-open"),e?.target?.classList?.add("tab-open"),this.$refs["client"+this.uk]?.classList?.add("hide"),this.$refs["ca"+this.uk]?.classList?.add("hide"),this.$refs["contact"+this.uk]?.classList?.add("hide"),this.$refs[t+this.uk]?.classList?.remove("hide"),this.$refs[t+this.uk+"focus"].focus()},canceled(){M()({title:"Do you really want to cancel editing?",text:"All changes will be reverted",icon:"warning",buttons:!0,dangerMode:!0}).then((e=>{if(null!=e)throw null})).catch((()=>{1==this.editing&&this.$emit("editingCompleted",{editing:0,client:`${this.clientName} (${this.firmName})`}),this.$router.push("/u/clients/list")}))},proceed(){const e={clientId:this.editClientId,clientName:this.clientName,clientTypeId:this.clientTypeId,cin:this.cin,firmName:this.firmName,firmAddress:this.firmAddress,caEmail:this.caEmail,caPan:this.caPan,conName:this.conName,conEmail:this.conEmail,conPhone:this.conPhone};void 0!=e.clientId&&""!=e.clientId?(0,D.Z)({text:e.clientName,mutationFnName:"clients/RESET_STATE",promise:()=>V.yj.edit(e),context:this}):(0,S.Z)({text:e.clientName,url:"/u/clients/list",mutationFnName:"clients/RESET_STATE",mutationArgs:{},promise:()=>V.yj.create(e),context:this})}},mounted(){if(this.$refs["defaultTab"+this.uk].click(),void 0!=this.clientData&&(this.editing=!0),0!=this.editing){const{id:e,typeId:t,name:i,cin:a,caFirmName:n,caAddress:l,caPan:s,caEmail:c,conName:o,conEmail:d,conPhone:r}=JSON.parse(this.clientData);this.editClientId=e,this.clientName=i,this.cin=a,this.clientTypeId=t,this.firmName=n,this.firmAddress=l,this.caPan=s,this.caEmail=c,this.conName=o,this.conEmail=d,this.conPhone=r}}},j=i(3744);const O=(0,j.Z)(Z,[["render",U],["__scopeId","data-v-3326db4a"]]);var R=O},3262:function(e,t,i){i.d(t,{Z:function(){return l}});var a=i(6737),n=i.n(a);function l({text:e,url:t,mutationFnName:i,mutationArgs:a,promise:l,context:s}){l().then((()=>n()({title:"Success",text:`Created "${e}"`,icon:"success",button:"ok"}))).then((()=>{s.$store.commit(i,a),setTimeout((()=>s.$router.push(t)),1)})).catch((e=>{null!=e&&n()("Oops!",`We can't perform this action right now please try again\n\n details: ${e}`)}))}}}]);
//# sourceMappingURL=499.434a0d57.js.map