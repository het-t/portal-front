{"version":3,"file":"js/50.f13f3679.js","mappings":"8OACaA,MAAM,a,GACDA,MAAM,a,GACHA,MAAM,qB,UACP,OAAkC,SAA3BC,IAAI,YAAW,QAAI,K,GAKzBD,MAAM,uB,wEARnB,QAsBM,MAtBN,EAsBM,EArBF,OAoBO,OApBP,EAoBO,EAnBH,OAGM,MAHN,EAGM,CAFF,G,SACA,OAAmD,S,qCAAnC,EAAO,WAAEE,KAAK,OAAOC,GAAG,Y,iBAAxB,EAAAC,cAIpB,OAYM,MAZN,EAYM,EAXF,OAIc,UAHTC,UAAuB,IAAb,EAAAA,SACV,QAAK,8BAAwBC,GAAb,EAAAC,UAA0B,EAAAC,YAAc,EAAAC,WAAO,cAChET,MAAM,gBACT,OAAI,MAEL,OAIgB,UAHXK,UAAuB,IAAb,EAAAA,SACV,QAAK,8BAAU,EAAAK,QAAA,EAAAA,UAAA,IAAM,cACtBV,MAAM,sBACT,SAAM,U,4CAWvB,GACIW,KAAM,sBACNC,MAAO,CAAC,aACRC,OACI,MAAO,CACHT,QAAS,GACTC,UAAU,EAElB,EACAS,QAAS,CACLN,YACI,MAAMO,EAAO,CACTJ,KAAMK,KAAKZ,UAGf,OAAc,CACVa,KAAMF,EAAKJ,KACXO,IAAK,gBACLC,QAAS,iBAAkBJ,GAC3BK,QAASJ,MAEjB,EACAP,UACI,SAAW,cAAe,CACtBN,GAAIa,KAAKT,UACTI,KAAMK,KAAKZ,UAEdiB,SAAQ,IAAML,KAAKX,UAAW,GACnC,EACAK,SACIM,KAAKZ,QAAU,EACnB,I,UCvDZ,MAAMkB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,uBCTe,SAASC,GAAc,KAACP,EAAI,IAAEC,EAAG,eAAEO,EAAc,aAAEC,EAAY,QAAEP,EAAO,QAAEC,IACrF,IAAIL,EAAOW,OACCpB,GAARS,IAAmBA,EAAO,CAAC,GAE/BI,EACCQ,MAAK,IACFP,EAAQQ,OAAOC,QAAQ,SAASZ,OAEnCU,MAAK,KACEF,GAAgBL,EAAQU,OAAOC,OAAON,EAAgBV,GAC1DiB,YAAW,IAAMZ,EAAQa,QAAQC,KAAKhB,IAAM,EAAC,IAEhDiB,OAAOC,IACO,MAAPA,GAAahB,EAAQQ,OAAOS,MAAM,+CAA8C,IAEvFhB,SAAQ,KACLD,EAAQf,UAAW,IAE3B,C","sources":["webpack://portal/./src/components/OrganizationsCreate.vue","webpack://portal/./src/components/OrganizationsCreate.vue?ff5a","webpack://portal/./src/helpers/swalCreate.js"],"sourcesContent":["<template>\r\n        <div class=\"card pb16\">\r\n            <form class=\"pt16 pb16\">\r\n                <div class=\"row mt8 pr16 pl32\">\r\n                    <label for=\"org-name\">name</label>\r\n                    <input v-model=\"orgName\" type=\"text\" id=\"org-name\">\r\n                </div>\r\n\r\n                \r\n                <div class=\"flex mt32 pr16 pl32\">\r\n                    <button \r\n                        :disabled=\"disabled === true\"\r\n                        @click.prevent=\"(editOrgId == undefined) ? createOrg() : editOrg()\"\r\n                        class=\"green button\"\r\n                    >save</button>\r\n\r\n                    <button\r\n                        :disabled=\"disabled === true\"\r\n                        @click.prevent=\"cancel\"\r\n                        class=\"neutral button ml8\"\r\n                    >cancel</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\nimport { admin } from '@/api';\r\nimport useCreateSwal from '@/helpers/swalCreate';\r\nimport axios from 'axios';\r\n\r\n    export default {\r\n        name: 'OrganizationsCreate',\r\n        props: ['editOrgId'],\r\n        data() {\r\n            return {\r\n                orgName: '',\r\n                disabled: false\r\n            }\r\n        },\r\n        methods: {\r\n            createOrg() {\r\n                const args = {\r\n                    name: this.orgName\r\n                }\r\n\r\n                useCreateSwal({\r\n                    text: args.name,\r\n                    url: '/u/admin/orgs',\r\n                    promise: admin.orgs.create(args),\r\n                    context: this\r\n                })\r\n            },\r\n            editOrg() {\r\n                axios.post('/u/api/orgs', {\r\n                    id: this.editOrgId,\r\n                    name: this.orgName\r\n                })\r\n                .finally(() => this.disabled = false)\r\n            },\r\n            cancel() {\r\n                this.orgName = ''\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\nlabel {\r\n    width: 100px;\r\n}\r\ninput {\r\n    width: 30%;\r\n}\r\n.row {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.pl32 {\r\n    padding-left: 32px;\r\n}\r\n</style>","import { render } from \"./OrganizationsCreate.vue?vue&type=template&id=1696b34a&scoped=true\"\nimport script from \"./OrganizationsCreate.vue?vue&type=script&lang=js\"\nexport * from \"./OrganizationsCreate.vue?vue&type=script&lang=js\"\n\nimport \"./OrganizationsCreate.vue?vue&type=style&index=0&id=1696b34a&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\portal\\\\frontend\\\\portal\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1696b34a\"]])\n\nexport default __exports__","export default function useCreateSwal({text, url, mutationFnName, mutationArgs, promise, context}) {\r\n    let args = mutationArgs\r\n    if (args == undefined) args = {}\r\n\r\n    promise\r\n    .then(() =>\r\n        context.$toast.success(`saved ${text}`)\r\n    )\r\n    .then(() => { \r\n        if (mutationFnName) context.$store.commit(mutationFnName, args)\r\n        setTimeout(() => context.$router.push(url), 1)\r\n    })\r\n    .catch((err) => {\r\n        if (err != null) context.$toast.error(`Oops! We can't perform this action right now`)\r\n    })\r\n    .finally(() => {\r\n        context.disabled = false\r\n    })\r\n}"],"names":["class","for","type","id","orgName","disabled","undefined","editOrgId","createOrg","editOrg","cancel","name","props","data","methods","args","this","text","url","promise","context","finally","__exports__","render","useCreateSwal","mutationFnName","mutationArgs","then","$toast","success","$store","commit","setTimeout","$router","push","catch","err","error"],"sourceRoot":""}